function newclut = ApplyGammaCorrection(myClut)% APPLEGAMMACORRECTION - Apply gamma correction table for NewStim%%  NEWCLUT = APPLYGAMMACORRECTION(MYCLUT)%%  Applies gamma correction to the color look up table in MYCLUT.%%  MYCLUT should be a matrix with [Nx3] elements.  Each row in MYCLUT%  specifies a desired color on the monitor in desired [R G B]%  brightness that can vary between 0 and 255.  NEWCLUT has the same%  dimensions as MYCLUT but entries are replaced according to a %  gamma correction table (loaded with LOADGAMMACORRECTIONTABLE).%  After correction, the actual brightness on the screen more closely%  matches the desired brightness.%  %  If the global variable GAMMACORRECTIONENABLE is off, then%  APPLYGAMMACORRECTION takes no action.%%  See also:  GAMMACORRECTIONTABLEGLOBALS, LOADGAMMACORRECTIONTABLEGammaCorrectionTableGlobals;if GammaCorrectionEnable,	newclut = [ GammaCorrectionTable(round(myClut(:,1))+1,1) ...				GammaCorrectionTable(round(myClut(:,2))+1,2) ...				GammaCorrectionTable(round(myClut(:,3))+1,3) ];else,	newclut = myClut;end;
function [thetime,thecode]=StimPCIDIO96_StimTriggerAct(myDev,theaction,code)% StimSerial_STIMTRIGGERACT Performs triggering action StimSerial%%  Performs triggering action for StimSerial%%StimSerialGlobals;thetime = []; thecode = [];switch theaction,	case 'Stim_beforeframe_trigger',		if myDev.parameters.STIM_BEFOREFRAME_TRIGGER,					end;		thetime = GetSecs;	case 'Stim_afterframe_trigger',		if myDev.DevicePreferences.STIM_AFTERFRAME_TRIGGER,			DIG_Out_Port(NSPCIDIO96.deviceNumber,NSPCIDIO96.VdaqUserInPort,NSPCIDIO96.vofftrigger);		end;		thetime = GetSecs;	case 'Stim_ONSET_trigger',		if myDev.DevicePreferences.STIM_ONSET_TRIGGER,			serial('dtr',StimSerialStim,0);			thetime = GetSecs;			serial('dtr',StimSerialStim,1);		else, thetime = GetSecs;		end;	case 'Stim_BGpre_trigger',		if myDev.DevicePreferences.STIM_PRETIME_TRIGGER,			serial('dtr',StimSerialStim,0);			thetime = GetSecs;			serial('dtr',StimSerialStim,1);		else, thetime = GetSecs;		end;	case 'Stim_BGpost_trigger',		if myDev.DevicePreferences.STIM_POSTTIME_TRIGGER,			serial('dtr',StimSerialStim,0);			thetime = GetSecs;			serial('dtr',StimSerialStim,1);		else, thetime = GetSecs;		end;	case 'Stim_OFFSET_trigger',		if myDev.DevicePreferences.STIM_OFFSET_TRIGGER,			serial('dtr',StimSerialStim,0);			thetime = GetSecs;			serial('dtr',StimSerialStim,1);		else, thetime = GetSecs;		end;	case 'Script_ONSET_trigger',		if myDev.DevicePreferences.SCRIPT_START_TRIGGER,			serial('dtr',StimSerialScript,0);  % set from high to low		end;		thetime = GetSecs;	case 'Script_OFFSET_trigger',		if myDev.DevicePreferences.SCRIPT_STOP_TRIGGER,			serial('dtr',StimSerialScript,1);  % set from high to low		end;		thetime = GetSecs;	case 'Trigger_Initialize',		serial('dtr',StimSerialScript,1);  % set high initially		serial('dtr',StimSerialStim,1);		thetime = GetSecs;	case 'WaitActionCode',		% not implemented here	otherwise,end;